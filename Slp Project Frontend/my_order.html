<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CoinWorth ‚Äî My Orders</title>
    <link rel="stylesheet" href="./css/common.css">
    <link rel="stylesheet" href="./css/my_order.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header / Nav -->
    <header class="site-header">
        <div class="brand">
            <a href="index.html">CoinWorth<span class="accent"></span></a>
        </div>
        <div class="search-bar">
            <form id="searchForm" action="search.html" method="get">
                <input id="searchInput" name="q" type="search" placeholder="Search for products, brands and more">
                <button type="submit">Search</button>
            </form>
        </div>
        <nav class="nav-actions">
            <a href="cart.html" class="nav-item">Cart <span id="cartCount" class="cart-count">0</span></a>
            <div class="user-dropdown" id="userDropdown" style="display: none;">
                <div class="user-avatar" id="userAvatar">U</div>
                <span class="user-name" id="userName">User</span>
                <div class="dropdown-menu" id="dropdownMenu">
                    <a href="profile.html" class="dropdown-item">üë§ My Profile</a>
                    <a href="orders.html" class="dropdown-item active">üì¶ My Orders</a>
                    <a href="settings.html" class="dropdown-item">‚öôÔ∏è Settings</a>
                    <div class="dropdown-divider"></div>
                    <button class="dropdown-item logout-btn" onclick="authManager.logout()">üö™ Logout</button>
                </div>
            </div>
            <a href="login/signIn.html" class="nav-item" id="signInLink">Sign in</a>
        </nav>
    </header>

    <main class="orders-container">
        <div class="orders-header">
            <h1 class="orders-title">My Orders</h1>
            <p class="orders-subtitle">Track, return, or buy items again</p>
        </div>

        <!-- Filter Tabs -->
        <div class="orders-tabs">
            <button class="tab-btn active" data-filter="all">All Orders</button>
            <button class="tab-btn" data-filter="processing">Processing</button>
            <button class="tab-btn" data-filter="shipped">Shipped</button>
            <button class="tab-btn" data-filter="delivered">Delivered</button>
            <button class="tab-btn" data-filter="cancelled">Cancelled</button>
        </div>

        <!-- Orders Statistics -->
        <div class="orders-stats">
            <div class="stat-card">
                <div class="stat-icon processing">
                    <i class="fas fa-clock"></i>
                </div>
                <div class="stat-info">
                    <h3 class="stat-count" id="processingCount">0</h3>
                    <p class="stat-label">Processing</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon shipped">
                    <i class="fas fa-shipping-fast"></i>
                </div>
                <div class="stat-info">
                    <h3 class="stat-count" id="shippedCount">0</h3>
                    <p class="stat-label">Shipped</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon delivered">
                    <i class="fas fa-check-circle"></i>
                </div>
                <div class="stat-info">
                    <h3 class="stat-count" id="deliveredCount">0</h3>
                    <p class="stat-label">Delivered</p>
                </div>
            </div>
            <div class="stat-card">
                <div class="stat-icon cancelled">
                    <i class="fas fa-times-circle"></i>
                </div>
                <div class="stat-info">
                    <h3 class="stat-count" id="cancelledCount">0</h3>
                    <p class="stat-label">Cancelled</p>
                </div>
            </div>
        </div>

        <!-- Orders List -->
        <div class="orders-list" id="ordersList">
            <div class="loading" style="text-align: center; padding: 60px;">
                <div class="loading-spinner"></div>
                <p style="margin-top: 16px; color: var(--muted);">Loading your orders...</p>
            </div>
        </div>

        <!-- No Orders State -->
        <div class="no-orders" id="noOrders" style="display: none;">
            <div class="no-orders-icon">
                <i class="fas fa-shopping-bag"></i>
            </div>
            <h2>No Orders Yet</h2>
            <p>You haven't placed any orders. Start shopping to see your orders here!</p>
            <a href="index.html" class="btn btn-primary">Start Shopping</a>
        </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="footer-content">
            <div>¬© <span id="year"></span> CoinWorth ‚Äî Premium E-Commerce Platform</div>
            <div class="footer-tagline">Built for modern shopping experience</div>
        </div>
    </footer>

    <!-- Order Details Modal -->
    <div class="modal" id="orderDetailsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Order Details</h2>
                <button class="modal-close" id="closeModal">&times;</button>
            </div>
            <div class="modal-body" id="orderDetailsContent">
                <!-- Dynamic content will be loaded here -->
            </div>
        </div>
    </div>

    <script src="js/common.js"></script>
    <script src="js/utils/authManager.js"></script>
    <script src="js/utils/apiClient.js"></script>
    <script src="js/my_order.js"></script>
</body>
</html>